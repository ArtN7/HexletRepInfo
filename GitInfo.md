# Инфо о командах в терминале для Git
vim - запуск редактора кода

Создаем новый проект
mkdir hexlet-git

Переходим в созданную директорию
cd hexlet-git

Выполняем инициализацию
git init

С помощью команды git status можно посмотреть статус репозитория

Создаем файл README.md со строкой текста
echo 'Hello, Hexlet!' > README.md

touch <file> создание пустого файла

Команду подготовки файлов git add <file>
Если нужно добавить все файлы в индекс прописываем git add . Точка обязательна  
git add -i показывает измененные куски файлов и спрашивает, что с ними сделать

Для отмены изменений в файле прописываем git restore <file>
Для отмены индексации, но без отмены изменений, сделанных в файле прописываем git restore --staged <file>

Для удаления файла rm <file>  Или git rm <file> который сразу готовит файл к коммиту
У git rm есть опция --cached. Если её использовать, файл будет удален из репозитория, но не из рабочей директории

Для изменения имени файла rm Old-name New-name

Для выполнения коммита прописываем git commit -m 'Сообщение о коммите' (Сначала git add)
Флаг -a автоматически добавляет все изменения рабочей директории в индекс git commit -am 'message'

Для клонирования репозитория гит
git clone git@github.com:<ИМЯ НА ГИТХАБЕ>/hexlet-git.git

Перед началом работы нужно всегда выполнять команду git pull --rebase, которая скачивает из внешнего репозитория новые коммиты и добавляет их в локальный репозиторий.
Считается, что достаточно вызывать git pull, но это может приводить к созданию ненужных коммитов, из-за которых становится сложнее следить за историей изменений.

git push -- отправить ("запушить") все закоммиченные изменения

Команда git diff показывает разницу между тем, что было и что стало. Вывод git diff содержит не файлы целиком, а именно те строки, которые изменились — и иногда строки вокруг измененных для удобства анализа.
Выведет все изменения, сделанные в рабочей директории которые были добавлены в индекс
git diff --staged
f — перемещение вниз
b или u — перемещение вверх
q — или выход из режима просмотра

git log показывает список всех выполненных коммитов, отсортированных по дате добавления. Сверху самые последние коммиты
Используя полезный флаг -p, который сразу выводит диф для каждого коммита
Флаг --oneline Показывает сокращенный вывод


git show <7 первых символов хеша> У каждого коммита есть уникальный набор символов — идентификатор. С помощью хеша можно посмотреть все изменения, сделанные в рамках одного коммита

git blame <путь до файла>. Эта команда выводит файл и рядом с каждой строчкой показывает того, кто ее менял и в каком коммите

git grep <string> ищет совпадение с указанной строкой во всех файлах проекта.
Флаг `i` позволяет искать без учета регистра
Для поиска в конкретном коммите дописываем хеш коммита
Возвращаем список хешей коммитов `rev-list` git grep <string> $(git rev-list --all)

Если добавили ненужные новые файлы в репозиторий можно выполнить очистку с флагами -f – force, -d – directory
git clean -fd

Команда, автоматизирующая откат - git revert <хеш> Этой командой отменяется нужный коммит

Для удаления коммита используется команда git reset  Если коммит был отправлен во внешний репозиторий то менять историю ни в коем случае нельзя. Это сломает работу у тех, кто работает с вами над проектом.
Флаг --hard означает полное удаление. Без него git reset отменит коммит, но не удалит его, а поместит все изменения этого коммита в рабочую директорию, так что с ними можно будет продолжить работать.
Флаг HEAD~ означает «один коммит от последнего коммита». Если бы мы хотели удалить два последних коммита, то могли бы написать HEAD~2. Если не указывать флаг --hard, то по умолчанию подразумевается флаг --mixed. В таком варианте git reset отправляет изменения последнего коммита в рабочую директорию. Затем их можно исправить или отменить и выполнить новый коммит

Если изменения еще не были отправлены во внешнюю систему, можно добавить изменения в текущий коммит. Для этого во время коммита добавляется флаг --amend. Чтобы не открывался редактор для ввода описания коммита к команде git commit --amend можно добавить опцию --no-edit.

git checkout <хеш> перемещает по истории, загружая в рабочую директорию состояние кода на момент выполнения нужного коммита
git checkout main - возврат к исходному состоянию

git branch - чтобы узнать о своем местонахождении. Если * main - значит находимся на последнем коммите
* (HEAD detached at e6f625c)
  main
Две строки выше указывают нахождение в коммите с хешем e6f625c

git switch <имя ветки> - переключение на ветку с именем

Для игнорирования файлов и директорий, программист должен создать файл .gitignore в корне проекта и добавить его в репозиторий. Пример вы можете посмотреть здесь. Как только .gitignore создан и в него добавлен какой-то файл или директория, игнорирование заработает автоматически. Все новые файлы, попадающие под игнорирование, не отобразятся в выводе команды git status