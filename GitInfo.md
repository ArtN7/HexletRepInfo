<h1>Инфо о командах в терминале для Git</h1>

<h2>Работа с информацией в файле</h2>

<h3>Создание пустого файла</h3>
<p>touch file</p>

<h3>Изменение текста в файле</h3>
<p>echo 'Hello, Hexlet!' > file</p> 
<p>Добавление текста делается с помощью >></p>

<h3>Удаление файлов</h3>
<p>Для удаления файла rm file</p>

<h3>Изменение имени файла</h3>
<p>rm Old-name New-name</p>

<h2>Работа с директориями</h2>

<h3>запуск редактора кода</h3>
<p>vim</p>

<h3>Создание директории</h3>
<p>mkdir name</p>

<h3>Переход в директорию</h3>
<p>cd dir</p>

<h3>Выполнение инициализации</h3>
<p>git init</p>

<h3>Узнать статус репозитория<h3>
<p>git status</p>

<h3>Команда подготовки файлов для commit'a</h3>
<p>git add file</p>
<p>Если нужно добавить все файлы в индекс прописываем git add . Точка обязательна </p>
<p>git add -i показывает измененные куски файлов и спрашивает, что с ними сделать</p>

<h3>Команда для отмены изменений</h3>
<p>git restore file</p>
<p>Для отмены индексации, но без отмены изменений, сделанных в файле прописываем git restore --staged file</p>

<h3>Удаление файлов</h3>
<p>git rm file который сразу готовит файл к коммиту</p>
<p>У git rm есть опция --cached. Если её использовать, файл будет удален из репозитория, но не из рабочей директории</p>

<h3>Выполнение коммита</h3>
<p>git commit -m 'Сообщение о коммите' (Сначала git add)</p>
<p>Флаг -a автоматически добавляет все изменения рабочей директории в индекс git commit -am 'message'</p>

<h3>Клонирование репозитория гит</h3>
<p>Заходим в нужную папку, куда будем клонировать репозиторий. Прописываем:</p>
<p>git clone git@github.com:<ИМЯ НА ГИТХАБЕ>/hexlet-git.git</p>

<h3>Скачивание из внешнего репозитория новых коммитов и добавление их в локальный репозиторий</h3>
<p>git pull --rebase</p>
<p>Считается, что достаточно вызывать git pull, но это может приводить к созданию ненужных коммитов, из-за которых становится сложнее следить за историей изменений.</p>

<h3>Отправка всех коммитов на гит</h3>
<p>git push</p>

<h3>Для вывода разницы между тем, что было и что стало</h3>
<p>git diff</p> 
<p>Вывод git diff содержит не файлы целиком, а именно те строки, которые изменились — и иногда строки вокруг измененных для удобства анализа. </p>
<p>git diff --staged</p>
<p>--staged выведет все изменения, сделанные в рабочей директории которые были добавлены в индекс</p>
<ul>
<li>f — перемещение вниз</li>
<li>b или u — перемещение вверх</li>
<li>q — или выход из режима просмотра</li>
</ul>

git log показывает список всех выполненных коммитов, отсортированных по дате добавления. Сверху самые последние коммиты
Используя полезный флаг -p, который сразу выводит диф для каждого коммита
Флаг --oneline Показывает сокращенный вывод


git show <7 первых символов хеша> У каждого коммита есть уникальный набор символов — идентификатор. С помощью хеша можно посмотреть все изменения, сделанные в рамках одного коммита

git blame <путь до файла>. Эта команда выводит файл и рядом с каждой строчкой показывает того, кто ее менял и в каком коммите

git grep <string> ищет совпадение с указанной строкой во всех файлах проекта.
Флаг `i` позволяет искать без учета регистра
Для поиска в конкретном коммите дописываем хеш коммита
Возвращаем список хешей коммитов `rev-list` git grep <string> $(git rev-list --all)

Если добавили ненужные новые файлы в репозиторий можно выполнить очистку с флагами -f – force, -d – directory
git clean -fd

Команда, автоматизирующая откат - git revert <хеш> Этой командой отменяется нужный коммит

Для удаления коммита используется команда git reset  Если коммит был отправлен во внешний репозиторий то менять историю ни в коем случае нельзя. Это сломает работу у тех, кто работает с вами над проектом.
Флаг --hard означает полное удаление. Без него git reset отменит коммит, но не удалит его, а поместит все изменения этого коммита в рабочую директорию, так что с ними можно будет продолжить работать.
Флаг HEAD~ означает «один коммит от последнего коммита». Если бы мы хотели удалить два последних коммита, то могли бы написать HEAD~2. Если не указывать флаг --hard, то по умолчанию подразумевается флаг --mixed. В таком варианте git reset отправляет изменения последнего коммита в рабочую директорию. Затем их можно исправить или отменить и выполнить новый коммит

Если изменения еще не были отправлены во внешнюю систему, можно добавить изменения в текущий коммит. Для этого во время коммита добавляется флаг --amend. Чтобы не открывался редактор для ввода описания коммита к команде git commit --amend можно добавить опцию --no-edit.

git checkout <хеш> перемещает по истории, загружая в рабочую директорию состояние кода на момент выполнения нужного коммита
git checkout main - возврат к исходному состоянию

git branch - чтобы узнать о своем местонахождении. Если * main - значит находимся на последнем коммите
* (HEAD detached at e6f625c)
  main
Две строки выше указывают нахождение в коммите с хешем e6f625c

git switch <имя ветки> - переключение на ветку с именем

Для игнорирования файлов и директорий, программист должен создать файл .gitignore в корне проекта и добавить его в репозиторий. Пример вы можете посмотреть здесь. Как только .gitignore создан и в него добавлен какой-то файл или директория, игнорирование заработает автоматически. Все новые файлы, попадающие под игнорирование, не отобразятся в выводе команды git status